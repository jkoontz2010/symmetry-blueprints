(()=>{"use strict";var e={265:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const a=r(n(980)),c=s(n(710));t.activate=function(e){e.subscriptions.push(a.commands.registerCommand("symmetric-blueprints.start",(()=>{c.default.createOrShow(e)})))},t.deactivate=function(){}},21:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNonce=void 0,t.getNonce=function(){let e="";for(let t=0;t<32;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}},710:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(980)),c=n(21),l=r(n(896));function u(e){return new Promise(((t,n)=>{l.readFile(e,"utf8",(function(e,i){e?(console.log(e),n(e)):t(i)}))}))}class d{static createOrShow(e){const t=a.window.activeTextEditor?a.window.activeTextEditor.viewColumn:void 0;d.currentPanel?d.currentPanel._panel.reveal(t):d.currentPanel=new d(e,a.ViewColumn.Two)}constructor(e,t){this._disposables=[],this._extContext=e,this._extensionUri=e.extensionUri,this._panel=a.window.createWebviewPanel(d.viewType,"Blueprints",t,{enableScripts:!0,localResourceRoots:[this._extensionUri]}),this._panel.webview.html=this._getHtmlForWebview(this._panel.webview),this._panel.onDidDispose((()=>this.dispose()),null,this._disposables),this._panel.webview.onDidReceiveMessage((e=>s(this,void 0,void 0,(function*(){switch(e.command){case"startup":console.log("message received");break;case"testing":console.log("reachedBrain"),this._panel.webview.postMessage({command:"refactor"});break;case"fetch_from_config":try{const{pathToConfig:t}=e;l.readFile(t,"utf8",((e,t)=>{if(e)return void console.error(e);const n=t.split("\n"),i=n.find((e=>e.includes("GENERATOR_FILE"))).split("=")[1],o=n.find((e=>e.includes("TEMPLATE_FILE"))).split("=")[1],r=n.find((e=>e.includes("WORDS_FILE"))).split("=")[1];console.log(i,o,r);const s=[u(i),u(o),u(r)];Promise.all(s).then((e=>{const[t,n,i]=e;this._panel.webview.postMessage({command:"config_data",data:{generators:t,templates:n,words:i}})}))}))}catch(e){console.error(e)}}}))),null,this._disposables)}dispose(){for(d.currentPanel=void 0,this._panel.dispose();this._disposables.length;){const e=this._disposables.pop();e&&e.dispose()}}_getHtmlForWebview(e){const t=e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"out","main.wv.js"));return`<!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Symmetric Blueprints</title>\n        <link rel="stylesheet" href="${e.asWebviewUri(a.Uri.joinPath(this._extensionUri,"media","styles.css"))}">\n      </head>\n      <body>\n        <div id="root"></div>\n        <script>\n          global = window\n          \n          const vscode = acquireVsCodeApi();\n          window.onload = function() {\n            vscode.postMessage({ command: 'startup' });\n            console.log('HTML started up.');\n          };\n        <\/script>\n        <script nonce="${(0,c.getNonce)()}" src="${t}"><\/script>\n      </body>\n      </html>\n    `}}t.default=d,d.viewType="PanelName"},980:e=>{e.exports=require("vscode")},896:e=>{e.exports=require("fs")}},t={},n=function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(265);module.exports=n})();